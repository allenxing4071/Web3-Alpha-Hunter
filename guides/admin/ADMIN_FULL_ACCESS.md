# 👑 管理员完整权限列表

## 📊 管理员可见的所有栏目

### 🌐 主导航栏 (所有管理员可见项)

1. **首页** - `/`
   - 所有用户可见
   - 项目介绍和概览

2. **项目列表** - `/projects`
   - 所有用户可见
   - 查看所有Web3项目

3. **项目对比** - `/compare`
   - 所有用户可见
   - 横向对比多个项目

4. **控制面板** 🔒 - `/dashboard`
   - **仅管理员可见**
   - 系统状态监控
   - 服务状态检查
   - 快速访问面板
   - 常用命令
   - 文档链接

5. **系统管理** 🔒 - `/admin`
   - **仅管理员可见**
   - 数据采集控制
   - Celery任务管理
   - 系统日志查看

6. **用户管理** 🔒 - `/users`
   - **仅管理员可见**
   - 添加/编辑/删除用户
   - 角色分配
   - 用户列表

7. **数据库** 🔒 - `/database.html`
   - **仅管理员可见**
   - 查看数据库表结构
   - 查看示例数据
   - SQL参考

8. **API文档** - `/api-docs.html`
   - 所有用户可见
   - 第三方API链接集合

## 🔐 管理员专属功能

### 控制面板中的特殊功能
- ✅ 查看后端/前端服务状态
- ✅ 访问所有系统管理链接
- ✅ 查看Celery任务状态
- ✅ 访问机密文档 (DeepSeek配置、数据采集逻辑、配置密钥等)
- ✅ 执行系统命令参考

### 系统管理中的功能
- ✅ 手动触发数据采集 (Twitter/Telegram/CoinGecko/全部)
- ✅ 查看采集结果和项目数量
- ✅ 查看系统日志
- ✅ 监控Celery Worker和Beat状态
- ✅ 查看定时任务配置

### 用户管理中的功能
- ✅ 添加新用户 (管理员/普通用户)
- ✅ 编辑用户信息 (用户名/邮箱/密码/角色)
- ✅ 删除普通用户 (不能删除管理员和唯一用户)
- ✅ 查看所有用户列表
- ✅ 查看用户创建时间

## 🎯 验证管理员权限

### 管理员登录后应该看到:

**导航栏完整菜单** (从左到右):
```
首页 | 项目列表 | 项目对比 | 控制面板🔒 | 系统管理🔒 | 用户管理🔒 | 数据库🔒 | API文档🔗
```

**用户信息显示**:
```
👤 admin [管理员] [登出]
```

### 如果看不到某些栏目,请检查:

1. **确认已登录为管理员**
   ```
   用户名: admin
   密码: admin123
   ```

2. **检查导航栏右上角**
   - 应显示: 👤 admin [管理员]
   - 如果显示 [用户] 说明角色有问题

3. **清除浏览器缓存**
   ```
   1. 按 Ctrl+Shift+R (或 Cmd+Shift+R) 强制刷新
   2. 或清除浏览器缓存后重新登录
   ```

4. **重新初始化用户数据**
   ```
   访问: http://localhost:3000/reset-login.html
   或浏览器控制台执行:
   localStorage.clear()
   location.reload()
   ```

## 📝 完整访问地址列表

### 公开页面 (所有用户)
- http://localhost:3000/ - 首页
- http://localhost:3000/login - 登录页
- http://localhost:3000/projects - 项目列表
- http://localhost:3000/compare - 项目对比
- http://localhost:3000/api-docs.html - API文档

### 管理员专属页面 🔒
- http://localhost:3000/dashboard - 控制面板
- http://localhost:3000/admin - 系统管理
- http://localhost:3000/users - 用户管理
- http://localhost:3000/database.html - 数据库管理

### 后端API (管理员建议使用)
- http://localhost:8000 - API首页
- http://localhost:8000/health - 健康检查
- http://localhost:8000/docs - Swagger文档
- http://localhost:8000/redoc - ReDoc文档
- http://localhost:8000/api/v1/admin/celery-status - Celery状态

## 🛠️ 权限测试清单

### 管理员权限测试

- [ ] 能看到导航栏中的 "控制面板🔒"
- [ ] 能看到导航栏中的 "系统管理🔒"
- [ ] 能看到导航栏中的 "用户管理🔒"
- [ ] 能看到导航栏中的 "数据库🔒"
- [ ] 能访问 /dashboard 不被重定向
- [ ] 能访问 /admin 不被重定向
- [ ] 能访问 /users 不被重定向
- [ ] 在用户管理中能添加新用户
- [ ] 在用户管理中能编辑用户角色
- [ ] 在系统管理中能触发数据采集
- [ ] 用户信息显示"管理员"标签

### 普通用户限制测试

- [ ] 看不到 "控制面板🔒"
- [ ] 看不到 "系统管理🔒"
- [ ] 看不到 "用户管理🔒"
- [ ] 看不到 "数据库🔒"
- [ ] 访问 /dashboard 被重定向到首页
- [ ] 访问 /admin 被重定向到首页
- [ ] 访问 /users 被重定向到首页
- [ ] 用户信息显示"用户"标签

## 🔧 故障排查

### 问题1: 管理员登录后看不到管理菜单

**解决方案**:
```bash
# 1. 清除localStorage
浏览器控制台执行:
localStorage.clear()

# 2. 重新访问登录页
http://localhost:3000/login

# 3. 使用默认管理员登录
用户名: admin
密码: admin123

# 4. 检查用户角色
浏览器控制台执行:
JSON.parse(localStorage.getItem('auth-storage')).state.user.role
// 应该返回: "admin"
```

### 问题2: 导航栏显示不完整

**解决方案**:
```bash
# 1. 检查前端是否正常运行
访问: http://localhost:3000

# 2. 查看浏览器控制台是否有错误

# 3. 重启前端服务
cd frontend
npm run dev

# 4. 强制刷新浏览器
Ctrl+Shift+R (或 Cmd+Shift+R)
```

### 问题3: 某个特定页面无法访问

**解决方案**:
```bash
# 1. 检查后端是否运行
curl http://localhost:8000/health

# 2. 检查前端路由配置
# 确认对应的 page.tsx 文件存在

# 3. 查看浏览器控制台Network标签
# 检查API请求是否成功
```

## 💡 管理员最佳实践

### 1. 首次登录后
- [ ] 立即修改默认密码
- [ ] 创建自己的管理员账号
- [ ] 测试所有管理功能

### 2. 日常使用
- [ ] 使用控制面板快速访问常用功能
- [ ] 定期查看系统管理中的采集日志
- [ ] 监控Celery任务状态

### 3. 用户管理
- [ ] 为团队成员创建普通用户账号
- [ ] 必要时才授予管理员权限
- [ ] 定期审查用户列表

### 4. 安全建议
- [ ] 不要分享管理员密码
- [ ] 使用强密码
- [ ] 定期更换密码
- [ ] 不要在公共网络使用

---

**当前配置**: 管理员拥有完整的系统访问权限 ✅
**安全级别**: 基础权限控制已实现 🔒
**建议**: 定期检查和更新用户权限 📊
