<!DOCTYPE html>
<html>
<head>
    <title>ç™»å½•çŠ¶æ€æ£€æŸ¥</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1a1a2e; color: #fff; }
        .box { background: #16213e; padding: 20px; margin: 20px 0; border-radius: 10px; }
        button { padding: 10px 20px; margin: 10px; background: #4ade80; border: none; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>ğŸ” ç™»å½•çŠ¶æ€æ£€æŸ¥</h1>
    
    <div class="box">
        <h2>å½“å‰çŠ¶æ€:</h2>
        <div id="status"></div>
    </div>
    
    <div class="box">
        <h2>æ‰‹åŠ¨è®¾ç½®ç™»å½•çŠ¶æ€ï¼ˆæµ‹è¯•ç”¨ï¼‰:</h2>
        <button onclick="setTestLogin()">è®¾ç½®æµ‹è¯•ç™»å½•</button>
        <button onclick="clearLogin()">æ¸…é™¤ç™»å½•</button>
        <button onclick="location.reload()">åˆ·æ–°é¡µé¢</button>
    </div>
    
    <script>
        function checkStatus() {
            const token = sessionStorage.getItem('auth_token');
            const user = sessionStorage.getItem('auth_user');
            
            let html = '<pre>';
            html += 'sessionStorage.auth_token: ' + (token || 'null') + '\n';
            html += 'sessionStorage.auth_user: ' + (user || 'null') + '\n\n';
            
            if (token && user) {
                try {
                    const userObj = JSON.parse(user);
                    html += 'è§£æåçš„ç”¨æˆ·ä¿¡æ¯:\n' + JSON.stringify(userObj, null, 2);
                } catch (e) {
                    html += 'è§£æå¤±è´¥: ' + e.message;
                }
            }
            html += '</pre>';
            
            document.getElementById('status').innerHTML = html;
        }
        
        function setTestLogin() {
            const testUser = {
                id: '1',
                username: 'admin',
                email: 'admin@web3hunter.com',
                role: 'admin',
                createdAt: new Date().toISOString()
            };
            
            sessionStorage.setItem('auth_token', 'authenticated');
            sessionStorage.setItem('auth_user', JSON.stringify(testUser));
            
            alert('âœ… æµ‹è¯•ç™»å½•å·²è®¾ç½®ï¼åˆ·æ–°é¡µé¢æŸ¥çœ‹æ•ˆæœ');
            checkStatus();
        }
        
        function clearLogin() {
            sessionStorage.removeItem('auth_token');
            sessionStorage.removeItem('auth_user');
            alert('âœ… ç™»å½•ä¿¡æ¯å·²æ¸…é™¤');
            checkStatus();
        }
        
        checkStatus();
    </script>
</body>
</html>
