# âœ… é…ç½®å®Œæˆ - ä¸‹ä¸€æ­¥æ“ä½œæŒ‡å—

**å®Œæˆæ—¶é—´**: 2025-01-07  
**çŠ¶æ€**: Telegram APIå·²é…ç½®ï¼Œéœ€è¦é¦–æ¬¡æˆæƒ

---

## ğŸ¯ å·²å®Œæˆé…ç½®

### âœ… Telegram API
```bash
TELEGRAM_API_ID=21480897
TELEGRAM_API_HASH=6100e61192b430089e66d047dc9d6bce
TELEGRAM_BOT_TOKEN=7999542138:AAHaBdI2pwrRUXdqRMv6dNw9BNONSa-FTCA
```

---

## ğŸ“‹ è¿˜éœ€å®Œæˆçš„é…ç½®

### 1. Apify API (Twitteré‡‡é›†) - å¿…éœ€

**æ³¨å†Œåœ°å€**: https://apify.com/

**æ­¥éª¤**:
1. Sign Up æ³¨å†Œè´¦å·
2. é€‰æ‹© **Starterå¥—é¤** ($49/æœˆ)
3. Dashboard â†’ Settings â†’ Integrations
4. å¤åˆ¶ "Personal API token"

**é…ç½®**:
```bash
# åœ¨ backend/.env æ–‡ä»¶ä¸­æ·»åŠ :
APIFY_API_KEY=apify_api_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

---

### 2. DeepSeek AI (AIåˆ†æ) - å¿…éœ€

**æ³¨å†Œåœ°å€**: https://platform.deepseek.com/

**æ­¥éª¤**:
1. æ³¨å†Œè´¦å·
2. API Keys é¡µé¢
3. åˆ›å»ºæ–°å¯†é’¥
4. å¤åˆ¶å¯†é’¥

**é…ç½®**:
```bash
# åœ¨ backend/.env æ–‡ä»¶ä¸­æ·»åŠ :
DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

---

### 3. Telegramé¦–æ¬¡æˆæƒ (ä¸€æ¬¡æ€§æ“ä½œ)

Telegramé‡‡é›†å™¨éœ€è¦é¦–æ¬¡æˆæƒæ‰èƒ½å·¥ä½œã€‚

**æˆæƒæ­¥éª¤**:

```bash
cd /Users/xinghailong/Documents/soft/faxianjihui/backend

# è¿è¡Œæˆæƒè„šæœ¬
python3 -c "
import asyncio
from telethon import TelegramClient

async def auth():
    client = TelegramClient('web3_alpha_hunter', 21480897, '6100e61192b430089e66d047dc9d6bce')
    await client.start()
    print('âœ… æˆæƒæˆåŠŸï¼')
    await client.disconnect()

asyncio.run(auth())
"
```

**æˆæƒæµç¨‹**:
1. è¾“å…¥æ‚¨çš„æ‰‹æœºå· (å¸¦å›½é™…åŒºå·ï¼Œå¦‚: +86138xxxxxxxx)
2. æ¥æ”¶TelegraméªŒè¯ç 
3. è¾“å…¥éªŒè¯ç 
4. (å¦‚æœæœ‰ä¸¤æ­¥éªŒè¯) è¾“å…¥å¯†ç 
5. å®Œæˆï¼

**æ³¨æ„**: 
- æˆæƒåªéœ€ä¸€æ¬¡
- sessionæ–‡ä»¶ä¼šä¿å­˜åˆ° `backend/web3_alpha_hunter.session`
- è¯·å‹¿åˆ é™¤è¯¥æ–‡ä»¶

---

## ğŸš€ é…ç½®å®Œæˆåçš„æ“ä½œ

### æ­¥éª¤1: å®‰è£…ä¾èµ–

```bash
cd /Users/xinghailong/Documents/soft/faxianjihui/backend
pip install -r requirements.txt
```

### æ­¥éª¤2: é‡å¯CeleryæœåŠ¡

```bash
cd /Users/xinghailong/Documents/soft/faxianjihui
./stop-celery.sh
./start-celery.sh
```

### æ­¥éª¤3: æŸ¥çœ‹é‡‡é›†æ—¥å¿—

```bash
tail -f /tmp/celery-worker.log

# åº”è¯¥çœ‹åˆ°:
# âœ… Apify Twitter collector initialized
# âœ… Telegram client initialized
# ğŸ“¡ Using Apify Twitter collector
# ğŸ” Starting Apify Twitter collection...
```

---

## ğŸ§ª æµ‹è¯•é‡‡é›†åŠŸèƒ½

### æµ‹è¯•Telegramé‡‡é›†

```bash
cd backend
python3 -c "
import asyncio
from app.services.collectors.telegram import telegram_collector

async def test():
    await telegram_collector.start_client()
    messages = await telegram_collector.get_channel_messages('@cryptonewsflash', limit=10)
    print(f'âœ… é‡‡é›†åˆ° {len(messages)} æ¡æ¶ˆæ¯')
    for m in messages[:3]:
        print(f'  - {m.get(\"text\", \"\")[:60]}...')

asyncio.run(test())
"
```

### æµ‹è¯•Twitteré‡‡é›† (éœ€è¦å…ˆé…ç½®Apify)

```bash
python3 -c "
from app.services.collectors.twitter_apify import twitter_apify_collector
projects = twitter_apify_collector.collect_and_extract(hours=24)
print(f'âœ… é‡‡é›†åˆ° {len(projects)} ä¸ªé¡¹ç›®')
for p in projects[:5]:
    print(f'  - {p.get(\"name\")}: {p.get(\"description\")[:60]}...')
"
```

---

## ğŸ“Š å®Œæ•´é…ç½®ç¤ºä¾‹

æœ€ç»ˆçš„ `backend/.env` æ–‡ä»¶åº”è¯¥åŒ…å«:

```bash
# ==================== AIæœåŠ¡ ====================
DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ==================== Twitteré‡‡é›† (Apify) ====================
APIFY_API_KEY=apify_api_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
APIFY_TWITTER_ACTOR_ID=apify/twitter-scraper

# ==================== Telegram API ====================
TELEGRAM_API_ID=21480897
TELEGRAM_API_HASH=6100e61192b430089e66d047dc9d6bce
TELEGRAM_BOT_TOKEN=7999542138:AAHaBdI2pwrRUXdqRMv6dNw9BNONSa-FTCA

# ==================== æ•°æ®åº“ ====================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/web3_alpha_hunter

# ==================== Redis & Celery ====================
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1
```

---

## âœ… å®Œæˆæ ‡å‡†

é…ç½®å®Œæˆåï¼Œæ‚¨åº”è¯¥èƒ½çœ‹åˆ°:

- [ ] TelegramæˆæƒæˆåŠŸï¼Œç”Ÿæˆsessionæ–‡ä»¶
- [ ] Apify API Keyå·²é…ç½®
- [ ] DeepSeek API Keyå·²é…ç½®
- [ ] Celery Workeræ­£å¸¸å¯åŠ¨
- [ ] é‡‡é›†ä»»åŠ¡æ¯15åˆ†é’Ÿè‡ªåŠ¨æ‰§è¡Œ
- [ ] ç®¡ç†é¢æ¿æ˜¾ç¤ºé‡‡é›†ç»Ÿè®¡æ•°æ®

---

## ğŸ¯ é¢„æœŸæ•ˆæœ

### æ•°æ®é‡‡é›†é‡ (é…ç½®å®Œæˆå)

| å¹³å° | é¢‘ç‡ | æ¯æ—¥æ•°æ®é‡ |
|------|------|------------|
| **Twitter** | 15åˆ†é’Ÿ | 4,800-19,200æ¡ |
| **Telegram** | 15åˆ†é’Ÿ | 2,880-9,600æ¡ |
| **CoinGecko** | 30åˆ†é’Ÿ | 960-1,440é¡¹ç›® |

### æˆæœ¬

| æœåŠ¡ | æœˆæˆæœ¬ |
|------|--------|
| Apify | $49 |
| Telegram | $0 |
| DeepSeek | $7-21 |
| **æ€»è®¡** | **$56-70** |

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç¬¬ä¸‰æ–¹é‡‡é›†æœåŠ¡é…ç½®æŒ‡å—](./ç¬¬ä¸‰æ–¹é‡‡é›†æœåŠ¡é…ç½®æŒ‡å—.md)
- [Telegramé…ç½®è¯´æ˜](./Telegramé…ç½®è¯´æ˜.md)
- [å®æ–½å®Œæˆæ€»ç»“](./å®æ–½å®Œæˆæ€»ç»“.md)

---

## ğŸ†˜ é‡åˆ°é—®é¢˜ï¼Ÿ

### é—®é¢˜1: Telegramæˆæƒå¤±è´¥

**è§£å†³**: 
1. ç¡®è®¤æ‰‹æœºå·æ ¼å¼æ­£ç¡®ï¼ˆ+86xxxxxxxxï¼‰
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. åˆ é™¤æ—§session: `rm backend/web3_alpha_hunter.session`
4. é‡æ–°æˆæƒ

### é—®é¢˜2: Celeryå¯åŠ¨æŠ¥é”™

**è§£å†³**:
```bash
# æ£€æŸ¥Pythonç¯å¢ƒ
cd backend
pip install -r requirements.txt

# æ£€æŸ¥.envæ–‡ä»¶
cat .env | grep -E "TELEGRAM|APIFY|DEEPSEEK"
```

### é—®é¢˜3: é‡‡é›†æ— æ•°æ®

**è§£å†³**:
1. æ£€æŸ¥APIé…é¢æ˜¯å¦ç”¨å®Œ
2. æŸ¥çœ‹Celeryæ—¥å¿—: `tail -100 /tmp/celery-worker.log`
3. æ‰‹åŠ¨è§¦å‘é‡‡é›†æµ‹è¯•

---

**ä¸‹ä¸€æ­¥**: æ³¨å†ŒApifyå’ŒDeepSeekï¼Œå®Œæˆé…ç½®åå³å¯å¼€å§‹è‡ªåŠ¨é‡‡é›†ï¼ ğŸš€
