# ä»£ç è§„èŒƒæ–‡æ¡£

## ğŸ¯ è§„èŒƒç›®æ ‡

1. **ä¸€è‡´æ€§**: å›¢é˜Ÿæˆå‘˜ç¼–å†™çš„ä»£ç é£æ ¼ç»Ÿä¸€
2. **å¯è¯»æ€§**: ä»£ç æ˜“äºç†è§£å’Œç»´æŠ¤
3. **å¯ç»´æŠ¤æ€§**: é™ä½æŠ€æœ¯å€ºåŠ¡,ä¾¿äºé‡æ„
4. **è´¨é‡ä¿è¯**: é€šè¿‡è§„èŒƒå‡å°‘bug

---

## ğŸ“ é¡¹ç›®ç»“æ„è§„èŒƒ

### å‰ç«¯é¡¹ç›®ç»“æ„ (Next.js)

```
web3-alpha-hunter-web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # App Routeré¡µé¢
â”‚   â”‚   â”œâ”€â”€ (auth)/            # è®¤è¯ç›¸å…³é¡µé¢ç»„
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ register/
â”‚   â”‚   â”œâ”€â”€ (dashboard)/       # ä»ªè¡¨æ¿é¡µé¢ç»„
â”‚   â”‚   â”‚   â”œâ”€â”€ projects/
â”‚   â”‚   â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â”‚   â””â”€â”€ watchlist/
â”‚   â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â”‚   â””â”€â”€ page.tsx           # é¦–é¡µ
â”‚   â”œâ”€â”€ components/            # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/               # UIåŸºç¡€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ projects/         # é¡¹ç›®ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProjectList.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ScoreRadar.tsx
â”‚   â”‚   â””â”€â”€ layout/           # å¸ƒå±€ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ Header.tsx
â”‚   â”‚       â””â”€â”€ Sidebar.tsx
â”‚   â”œâ”€â”€ lib/                  # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ api.ts           # APIå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ utils.ts         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ constants.ts     # å¸¸é‡
â”‚   â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ useProjects.ts
â”‚   â”‚   â””â”€â”€ useWebSocket.ts
â”‚   â”œâ”€â”€ store/               # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ projectStore.ts
â”‚   â”‚   â””â”€â”€ userStore.ts
â”‚   â”œâ”€â”€ types/               # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ project.ts
â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â””â”€â”€ styles/              # å…¨å±€æ ·å¼
â”‚       â””â”€â”€ globals.css
â”œâ”€â”€ public/                  # é™æ€èµ„æº
â”œâ”€â”€ .env.local              # ç¯å¢ƒå˜é‡
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ tsconfig.json
â””â”€â”€ package.json
```

---

### åç«¯é¡¹ç›®ç»“æ„ (FastAPI)

```
web3-alpha-hunter-api/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/                 # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ v1/
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ projects.py
â”‚   â”‚       â”œâ”€â”€ reports.py
â”‚   â”‚       â”œâ”€â”€ users.py
â”‚   â”‚       â””â”€â”€ auth.py
â”‚   â”œâ”€â”€ core/                # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ config.py       # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ security.py     # å®‰å…¨ç›¸å…³
â”‚   â”‚   â””â”€â”€ deps.py         # ä¾èµ–æ³¨å…¥
â”‚   â”œâ”€â”€ models/              # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ project.py
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â””â”€â”€ report.py
â”‚   â”œâ”€â”€ schemas/             # Pydanticæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ project.py
â”‚   â”‚   â””â”€â”€ user.py
â”‚   â”œâ”€â”€ services/            # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ collectors/     # æ•°æ®é‡‡é›†
â”‚   â”‚   â”‚   â”œâ”€â”€ twitter.py
â”‚   â”‚   â”‚   â”œâ”€â”€ telegram.py
â”‚   â”‚   â”‚   â””â”€â”€ onchain.py
â”‚   â”‚   â”œâ”€â”€ analyzers/      # AIåˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ scorer.py
â”‚   â”‚   â”‚   â””â”€â”€ risk.py
â”‚   â”‚   â””â”€â”€ reporters/      # æŠ¥å‘Šç”Ÿæˆ
â”‚   â”‚       â””â”€â”€ daily.py
â”‚   â”œâ”€â”€ tasks/               # Celeryä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ collect.py
â”‚   â”‚   â””â”€â”€ analyze.py
â”‚   â”œâ”€â”€ db/                  # æ•°æ®åº“
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ session.py      # æ•°æ®åº“ä¼šè¯
â”‚   â”‚   â””â”€â”€ init_db.py      # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”œâ”€â”€ tests/               # æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ test_projects.py
â”‚   â”‚   â””â”€â”€ conftest.py
â”‚   â””â”€â”€ main.py              # åº”ç”¨å…¥å£
â”œâ”€â”€ alembic/                 # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ .env
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ requirements-dev.txt
â””â”€â”€ Dockerfile
```

---

## ğŸ’» å‰ç«¯ä»£ç è§„èŒƒ

### TypeScriptè§„èŒƒ

#### 1. å‘½åè§„èŒƒ

```typescript
// âœ… æ¨è
// ç»„ä»¶: PascalCase
const ProjectCard: React.FC<ProjectCardProps> = ({ project }) => {}

// å‡½æ•°: camelCase
function calculateScore(data: ProjectData): number {}

// å¸¸é‡: UPPER_SNAKE_CASE
const API_BASE_URL = 'https://api.example.com'

// ç±»å‹/æ¥å£: PascalCase
interface Project {
  id: string
  name: string
}

type ProjectGrade = 'S' | 'A' | 'B' | 'C'

// æšä¸¾: PascalCase
enum ProjectCategory {
  DeFi = 'DeFi',
  NFT = 'NFT',
  GameFi = 'GameFi'
}

// âŒ é¿å…
const projectcard = () => {}        // ç»„ä»¶åº”è¯¥PascalCase
const Calculate_Score = () => {}    // ä¸è¦ç”¨ä¸‹åˆ’çº¿
interface project {}                // ç±»å‹åº”è¯¥PascalCase
```

#### 2. ç±»å‹å®šä¹‰

```typescript
// âœ… æ¨è: æ˜ç¡®çš„ç±»å‹å®šä¹‰
interface Project {
  id: string
  name: string
  score: number
  grade: ProjectGrade
  discoveredAt: Date
}

// ä½¿ç”¨ç±»å‹è€Œéany
function getProject(id: string): Promise<Project> {
  // ...
}

// è”åˆç±»å‹
type ApiResponse<T> = 
  | { success: true; data: T }
  | { success: false; error: ApiError }

// âŒ é¿å…
function getProject(id: any): any {  // ä¸è¦ä½¿ç”¨any
  // ...
}
```

#### 3. Reactç»„ä»¶è§„èŒƒ

```typescript
// âœ… æ¨è: å‡½æ•°å¼ç»„ä»¶ + TypeScript
interface ProjectCardProps {
  project: Project
  onSelect?: (id: string) => void
}

export const ProjectCard: React.FC<ProjectCardProps> = ({ 
  project,
  onSelect 
}) => {
  // Hooksåœ¨é¡¶éƒ¨
  const [isExpanded, setIsExpanded] = useState(false)
  const { data, isLoading } = useProjectDetails(project.id)
  
  // äº‹ä»¶å¤„ç†å‡½æ•°
  const handleClick = useCallback(() => {
    onSelect?.(project.id)
  }, [project.id, onSelect])
  
  // æ—©è¿”å›æ¨¡å¼
  if (isLoading) return <Skeleton />
  if (!data) return null
  
  // JSX
  return (
    <Card onClick={handleClick}>
      <CardHeader>
        <h3>{project.name}</h3>
        <GradeBadge grade={project.grade} />
      </CardHeader>
      <CardContent>
        {/* ... */}
      </CardContent>
    </Card>
  )
}

// âŒ é¿å…: ç±»ç»„ä»¶
class ProjectCard extends React.Component {
  // ä¸æ¨èä½¿ç”¨ç±»ç»„ä»¶
}
```

#### 4. Hooksä½¿ç”¨è§„èŒƒ

```typescript
// âœ… æ¨è: è‡ªå®šä¹‰Hook
export function useProjects(filters: ProjectFilters) {
  const [projects, setProjects] = useState<Project[]>([])
  const [isLoading, setIsLoading] = useState(true)
  const [error, setError] = useState<Error | null>(null)
  
  useEffect(() => {
    const fetchProjects = async () => {
      try {
        setIsLoading(true)
        const data = await api.getProjects(filters)
        setProjects(data)
      } catch (err) {
        setError(err as Error)
      } finally {
        setIsLoading(false)
      }
    }
    
    fetchProjects()
  }, [filters]) // ä¾èµ–é¡¹æ˜ç¡®
  
  return { projects, isLoading, error }
}

// ä½¿ç”¨
const { projects, isLoading } = useProjects({ grade: 'S' })
```

---

### CSS/Tailwindè§„èŒƒ

```tsx
// âœ… æ¨è: Tailwindç±»åç»„ç»‡
<div className={cn(
  // å¸ƒå±€
  "flex items-center justify-between",
  // é—´è·
  "p-4 gap-2",
  // æ ·å¼
  "bg-gray-900 border border-gray-700 rounded-lg",
  // å“åº”å¼
  "md:p-6 lg:flex-row",
  // çŠ¶æ€
  "hover:shadow-lg transition-shadow",
  // æ¡ä»¶ç±»
  grade === 'S' && "border-gold shadow-gold"
)}>
  {/* ... */}
</div>

// âŒ é¿å…: æ··ä¹±çš„ç±»åé¡ºåº
<div className="hover:shadow-lg p-4 bg-gray-900 flex border border-gray-700">
```

---

## ğŸ åç«¯ä»£ç è§„èŒƒ

### Pythonè§„èŒƒ (PEP 8 + Black)

#### 1. å‘½åè§„èŒƒ

```python
# âœ… æ¨è
# å˜é‡/å‡½æ•°: snake_case
def calculate_project_score(project_data: dict) -> float:
    pass

# ç±»: PascalCase
class ProjectAnalyzer:
    pass

# å¸¸é‡: UPPER_SNAKE_CASE
API_VERSION = "v1"
MAX_RETRIES = 3

# ç§æœ‰å˜é‡: _å¼€å¤´
class ProjectService:
    def __init__(self):
        self._cache = {}
        
    def _internal_method(self):
        pass

# âŒ é¿å…
def CalculateScore():          # åº”è¯¥snake_case
class project_analyzer:        # åº”è¯¥PascalCase
API_version = "v1"             # å¸¸é‡åº”è¯¥å¤§å†™
```

#### 2. ç±»å‹æç¤º

```python
# âœ… æ¨è: ä½¿ç”¨ç±»å‹æç¤º
from typing import List, Optional, Dict, Any
from datetime import datetime

def get_project(
    project_id: str,
    include_metrics: bool = False
) -> Optional[Dict[str, Any]]:
    """è·å–é¡¹ç›®è¯¦æƒ…
    
    Args:
        project_id: é¡¹ç›®ID
        include_metrics: æ˜¯å¦åŒ…å«æŒ‡æ ‡æ•°æ®
        
    Returns:
        é¡¹ç›®æ•°æ®å­—å…¸,å¦‚æœä¸å­˜åœ¨è¿”å›None
    """
    pass

# Pydanticæ¨¡å‹
from pydantic import BaseModel, Field

class ProjectCreate(BaseModel):
    name: str = Field(..., min_length=1, max_length=255)
    symbol: str = Field(..., max_length=50)
    blockchain: str
    
    class Config:
        json_schema_extra = {
            "example": {
                "name": "XXX Protocol",
                "symbol": "XXX",
                "blockchain": "Ethereum"
            }
        }

# âŒ é¿å…: æ²¡æœ‰ç±»å‹æç¤º
def get_project(project_id):
    pass
```

#### 3. FastAPIè·¯ç”±è§„èŒƒ

```python
# âœ… æ¨è
from fastapi import APIRouter, Depends, HTTPException, Query
from typing import List

router = APIRouter(prefix="/projects", tags=["projects"])

@router.get(
    "",
    response_model=ProjectListResponse,
    summary="è·å–é¡¹ç›®åˆ—è¡¨",
    description="æ ¹æ®ç­›é€‰æ¡ä»¶è·å–é¡¹ç›®åˆ—è¡¨"
)
async def list_projects(
    grade: Optional[ProjectGrade] = Query(None, description="é¡¹ç›®ç­‰çº§"),
    min_score: float = Query(0, ge=0, le=100, description="æœ€ä½è¯„åˆ†"),
    limit: int = Query(20, ge=1, le=100, description="æ¯é¡µæ•°é‡"),
    skip: int = Query(0, ge=0, description="è·³è¿‡æ•°é‡"),
    current_user: User = Depends(get_current_user)
) -> ProjectListResponse:
    """
    è·å–é¡¹ç›®åˆ—è¡¨
    
    - **grade**: ç­›é€‰ç­‰çº§ (S/A/B/C)
    - **min_score**: æœ€ä½è¯„åˆ†
    - **limit**: è¿”å›æ•°é‡
    """
    projects = await project_service.get_projects(
        grade=grade,
        min_score=min_score,
        limit=limit,
        skip=skip
    )
    
    return ProjectListResponse(
        success=True,
        data={"projects": projects}
    )

# âŒ é¿å…
@router.get("/projects")
def get_projects(grade=None, score=None):  # ç¼ºå°‘ç±»å‹æç¤ºå’Œæ–‡æ¡£
    pass
```

#### 4. å¼‚å¸¸å¤„ç†

```python
# âœ… æ¨è
from app.core.exceptions import ProjectNotFoundError

async def get_project_by_id(project_id: str) -> Project:
    """è·å–é¡¹ç›®"""
    try:
        project = await db.projects.find_one({"_id": project_id})
        if not project:
            raise ProjectNotFoundError(f"Project {project_id} not found")
        return project
    except DatabaseError as e:
        logger.error(f"Database error: {e}")
        raise HTTPException(
            status_code=500,
            detail="Database operation failed"
        )

# âŒ é¿å…
def get_project(project_id):
    try:
        return db.find(project_id)
    except:  # ä¸è¦ä½¿ç”¨è£¸except
        pass  # ä¸è¦é™é»˜å¤±è´¥
```

#### 5. æ—¥å¿—è§„èŒƒ

```python
# âœ… æ¨è
import logging

logger = logging.getLogger(__name__)

async def analyze_project(project_id: str):
    logger.info(f"Starting analysis for project {project_id}")
    
    try:
        result = await ai_service.analyze(project_id)
        logger.info(
            f"Analysis completed for {project_id}",
            extra={"project_id": project_id, "score": result.score}
        )
        return result
    except Exception as e:
        logger.error(
            f"Analysis failed for {project_id}: {str(e)}",
            exc_info=True
        )
        raise

# âŒ é¿å…
def analyze_project(project_id):
    print(f"Analyzing {project_id}")  # ä¸è¦ä½¿ç”¨print
    # æ²¡æœ‰é”™è¯¯æ—¥å¿—
```

---

## ğŸ§ª æµ‹è¯•è§„èŒƒ

### å‰ç«¯æµ‹è¯•

```typescript
// âœ… æ¨è: Jest + React Testing Library
import { render, screen, waitFor } from '@testing-library/react'
import userEvent from '@testing-library/user-event'
import { ProjectCard } from './ProjectCard'

describe('ProjectCard', () => {
  const mockProject = {
    id: 'proj_123',
    name: 'Test Protocol',
    grade: 'S' as const,
    score: 92
  }
  
  it('should render project name', () => {
    render(<ProjectCard project={mockProject} />)
    expect(screen.getByText('Test Protocol')).toBeInTheDocument()
  })
  
  it('should call onSelect when clicked', async () => {
    const onSelect = jest.fn()
    render(<ProjectCard project={mockProject} onSelect={onSelect} />)
    
    await userEvent.click(screen.getByRole('button'))
    expect(onSelect).toHaveBeenCalledWith('proj_123')
  })
})
```

### åç«¯æµ‹è¯•

```python
# âœ… æ¨è: Pytest + FastAPI TestClient
import pytest
from fastapi.testclient import TestClient
from app.main import app

client = TestClient(app)

def test_list_projects():
    """æµ‹è¯•è·å–é¡¹ç›®åˆ—è¡¨"""
    response = client.get("/v1/projects?grade=S&limit=10")
    
    assert response.status_code == 200
    data = response.json()
    assert data["success"] is True
    assert len(data["data"]["projects"]) <= 10

@pytest.mark.asyncio
async def test_analyze_project():
    """æµ‹è¯•é¡¹ç›®åˆ†æ"""
    project_id = "proj_test"
    result = await project_service.analyze(project_id)
    
    assert result.score >= 0
    assert result.score <= 100
    assert result.grade in ['S', 'A', 'B', 'C']
```

---

## ğŸ“ æ³¨é‡Šè§„èŒƒ

### Python Docstring

```python
def calculate_project_score(
    team_score: float,
    tech_score: float,
    community_score: float,
    weights: Optional[Dict[str, float]] = None
) -> float:
    """è®¡ç®—é¡¹ç›®ç»¼åˆè¯„åˆ†
    
    ä½¿ç”¨åŠ æƒå¹³å‡ç®—æ³•è®¡ç®—é¡¹ç›®çš„ç»¼åˆè¯„åˆ†ã€‚å„ç»´åº¦è¯„åˆ†èŒƒå›´0-100,
    æœ€ç»ˆè¿”å›ç»¼åˆè¯„åˆ†ä¹Ÿåœ¨0-100èŒƒå›´å†…ã€‚
    
    Args:
        team_score: å›¢é˜Ÿè¯„åˆ† (0-100)
        tech_score: æŠ€æœ¯è¯„åˆ† (0-100)
        community_score: ç¤¾åŒºè¯„åˆ† (0-100)
        weights: æƒé‡å­—å…¸,é»˜è®¤ä½¿ç”¨é¢„è®¾æƒé‡
        
    Returns:
        ç»¼åˆè¯„åˆ† (0-100)
        
    Raises:
        ValueError: å¦‚æœä»»ä½•è¯„åˆ†ä¸åœ¨0-100èŒƒå›´å†…
        
    Example:
        >>> calculate_project_score(90, 85, 80)
        85.0
    """
    pass
```

### TypeScript JSDoc

```typescript
/**
 * è®¡ç®—é¡¹ç›®è¯„åˆ†
 * 
 * @param data - é¡¹ç›®åŸå§‹æ•°æ®
 * @param weights - æƒé‡é…ç½®
 * @returns ç»¼åˆè¯„åˆ†å¯¹è±¡
 * 
 * @example
 * ```ts
 * const score = calculateScore(projectData, defaultWeights)
 * console.log(score.overall) // 92.5
 * ```
 */
export function calculateScore(
  data: ProjectData,
  weights: ScoreWeights
): ProjectScore {
  // ...
}
```

---

## âœ… ä»£ç æ£€æŸ¥å·¥å…·

### å‰ç«¯ (.eslintrc.json)

```json
{
  "extends": [
    "next/core-web-vitals",
    "plugin:@typescript-eslint/recommended"
  ],
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/no-explicit-any": "warn",
    "react-hooks/exhaustive-deps": "warn"
  }
}
```

### åç«¯ (pyproject.toml)

```toml
[tool.black]
line-length = 88
target-version = ['py311']

[tool.ruff]
line-length = 88
select = ["E", "F", "I", "N", "W"]
ignore = ["E501"]

[tool.mypy]
python_version = "3.11"
strict = true
```

---

## ğŸš€ Gitè§„èŒƒ

### Commit Message

```bash
# âœ… æ¨èæ ¼å¼: <type>(<scope>): <subject>

feat(projects): add S-grade filter to project list
fix(api): resolve rate limit error on Twitter collector
docs(readme): update deployment instructions
refactor(scorer): simplify score calculation algorithm
test(reports): add unit tests for daily report generator
chore(deps): upgrade FastAPI to 0.104.0

# Typeç±»å‹:
# feat: æ–°åŠŸèƒ½
# fix: ä¿®å¤bug
# docs: æ–‡æ¡£
# refactor: é‡æ„
# test: æµ‹è¯•
# chore: æ„å»º/å·¥å…·
# perf: æ€§èƒ½ä¼˜åŒ–
```

### åˆ†æ”¯ç®¡ç†

```bash
main           # ç”Ÿäº§ç¯å¢ƒ
â”œâ”€â”€ develop    # å¼€å‘ç¯å¢ƒ
â”‚   â”œâ”€â”€ feature/s-grade-filter
â”‚   â”œâ”€â”€ feature/telegram-collector
â”‚   â””â”€â”€ fix/rate-limit-error
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-10-02

